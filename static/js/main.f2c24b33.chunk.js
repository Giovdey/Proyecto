(this["webpackJsonpintro-js"]=this["webpackJsonpintro-js"]||[]).push([[0],{19:function(e,t,c){},24:function(e,t,c){"use strict";c.r(t);var r=c(1),a=c(12),n=c.n(a),s=(c(19),c(14)),i=c(3),o=c(13),l=c.n(o),j=c(0),d=function(e){var t=e.setCategories,c=Object(r.useState)(""),a=Object(i.a)(c,2),n=a[0],s=a[1];return Object(j.jsxs)("form",{children:[Object(j.jsx)("input",{class:"form-control mr-sm-2",type:"search",placeholder:"Search","aria-label":"Search",value:n,onChange:function(e){s(e.target.value)}}),Object(j.jsx)("button",{class:"btn btn-success ",type:"submit",onClick:function(e){e.preventDefault(),n.length>2&&(t((function(e){return[n]})),s(""))},children:"Search"})]})};d.protoTypes={setCategories:l.a.func.isRequired};var b=c(5),u=function(e){var t=e.Title,c=e.Year,r=e.Poster,a=e.imdbID,n=e.addFavouriteMovie,s=e.Heart;return s=localStorage.getItem("react-movie-app-favourites").includes(a)?"\ud83d\udda4":"\ud83e\udd0d",Object(j.jsxs)("div",{class:"card",children:[Object(j.jsx)("img",{src:r,class:"card-img-top",alt:t}),Object(j.jsx)("div",{className:"overlay d-flex align-items-center justify-conten"}),Object(j.jsx)("p",{class:"card-title",children:t}),Object(j.jsx)("p",{class:"card-subtitle mb-2 text-muted",children:c}),Object(j.jsx)("i",{class:"bi bi-bookmark-heart",onClick:function(){return n(a)},children:s}),Object(j.jsx)("a",{class:"btn btn-primary",href:"/Proyecto/FilmInfo/".concat(a),children:"+Info"})]})},O=c(7),h=c.n(O),v=c(9),m=function(){var e=Object(v.a)(h.a.mark((function e(t){var c,r,a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="http://www.omdbapi.com/?i=".concat(t,"&apikey=f277de14"),e.next=3,fetch(c);case 3:return r=e.sent,e.next=6,r.json();case 6:return a=e.sent,n=function(){return{Title:a.Title,Year:a.Year,Rated:a.Rated,Released:a.Released,Tiempo:a.Runtime,Genre:a.Genre,Director:a.Director,Writer:a.Writer,Actors:a.Actors,Plot:a.Plot,Language:a.Language,Country:a.Country,Awards:a.Awards,Poster:a.Poster,imdbID:a.imdbID}},e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(e){var t=e.category,c=e.Heart,a=e.addFavouriteMovie,n=Object(r.useState)([]),s=Object(i.a)(n,2),o=s[0],l=s[1];return console.log(t),Object(r.useEffect)((function(){m(t).then(l)}),[]),Object(j.jsx)("div",{children:Object(j.jsx)(u,Object(b.a)(Object(b.a)({},o),{},{Heart:c,addFavouriteMovie:a}),o.Title)})},x=function(e){var t=e.addFavouriteMovie,c=Object(r.useState)([]),a=Object(i.a)(c,2),n=a[0],s=a[1];Object(r.useEffect)((function(){var e=JSON.parse(localStorage.getItem("react-movie-app-favourites"));e&&s(e)}),[]),console.log(n);return Object(j.jsx)("div",{children:Object(j.jsx)("ol",{children:n.map((function(e){return Object(j.jsx)(f,{category:e,Heart:"\ud83e\udd0d",addFavouriteMovie:t},e)}))})})},p=function(e){var t=e.Title,c=e.Year,r=e.Poster,a=e.imdbID,n=e.addFavouriteMovie,s=e.Heart;return s=localStorage.getItem("react-movie-app-favourites").includes(a)?"\ud83d\udda4":"\ud83e\udd0d",Object(j.jsxs)("div",{class:"card",children:[Object(j.jsx)("img",{src:r,class:"card-img-top",alt:t}),Object(j.jsx)("div",{className:"overlay d-flex align-items-center justify-conten"}),Object(j.jsx)("p",{class:"card-title",children:t}),Object(j.jsx)("p",{class:"card-subtitle mb-2 text-muted",children:c}),Object(j.jsx)("i",{class:"bi bi-bookmark-heart",onClick:function(){return n(a)},children:s}),Object(j.jsx)("a",{class:"btn btn-primary",href:"/Proyecto/FilmInfo/".concat(a),children:"+Info"})]})},g=function(){var e=Object(v.a)(h.a.mark((function e(t){var c,r,a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="http://www.omdbapi.com/?s=".concat(t,"&apikey=f277de14"),e.next=3,fetch(c);case 3:return r=e.sent,e.next=6,r.json();case 6:return a=e.sent,n=a.Search.map((function(e){return{Title:e.Title,Year:e.Year,Poster:e.Poster,imdbID:e.imdbID}})),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(e){var t=e.category,c=e.addFavouriteMovie,a=e.Heart;console.log(t);var n=function(e){var t=Object(r.useState)({data:[],loading:!0}),c=Object(i.a)(t,2),a=c[0],n=c[1];return Object(r.useEffect)((function(){g(e).then((function(e){setTimeout((function(){n({data:e,loading:!1})}),1e3)}))}),[e]),a}(t),s=n.data,o=n.loading;return Object(j.jsxs)(j.Fragment,{children:[o&&Object(j.jsx)("p",{class:"card animate__animated animate__flash",children:"Loading..."}),Object(j.jsx)("div",{className:"cardGrid ",children:s.map((function(e){return Object(j.jsx)(p,Object(b.a)(Object(b.a)({},e),{},{addFavouriteMovie:c,Heart:a}),e.Title)}))})]})},S=c(11),F=c(2),P=function(e){var t=e.Title,c=e.Year,r=e.Rated,a=e.Released,n=e.Tiempo,s=e.Genre,i=e.Director,o=e.Writer,l=e.Actors,d=e.Plot,b=e.Language,u=e.Country,O=e.Awards,h=e.Poster;return Object(j.jsx)("ul",{class:"list-unstyled",children:Object(j.jsxs)("li",{class:"media",children:[Object(j.jsx)("img",{src:h,class:"img-thumbnail",alt:t}),Object(j.jsxs)("div",{class:"media-body",children:[Object(j.jsx)("h5",{class:"mt-0 mb-1",children:t}),Object(j.jsxs)("h6",{children:["Year: ",c]}),Object(j.jsxs)("h6",{children:["Rated: ",r]}),Object(j.jsxs)("h6",{children:["Released: ",a]}),Object(j.jsxs)("h6",{children:["Tiempo: ",n]}),Object(j.jsxs)("h6",{children:["Genre: ",s]}),Object(j.jsxs)("h6",{children:["Director: ",i]}),Object(j.jsxs)("h6",{children:["Writer: ",o]}),Object(j.jsxs)("h6",{children:["Actors:",l]}),Object(j.jsxs)("h6",{children:["Language: ",b]}),Object(j.jsxs)("h6",{children:["Country: ",u]}),Object(j.jsxs)("h6",{children:["Awards: ",O]}),Object(j.jsxs)("p",{children:["Plot: ",d]})]})]})})},I=function(){var e=Object(F.g)().id,t=Object(r.useState)([]),c=Object(i.a)(t,2),a=c[0],n=c[1];return Object(r.useEffect)((function(){m(e).then(n)}),[]),Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{children:Object(j.jsx)(P,Object(b.a)({},a),a.Title)})})},k=function(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),c=t[0],a=t[1],n=Object(r.useState)([]),o=Object(i.a)(n,2),l=o[0],b=o[1],u=function(e){var t,c=Object(s.a)(l),r=c.indexOf(e);r>=0?(console.log(r),c.splice(r,1)):c.push(e),b(c),t=c,localStorage.setItem("react-movie-app-favourites",JSON.stringify(t))},O=Object(r.useState)([]),h=Object(i.a)(O,2),v=(h[0],h[1]);Object(r.useEffect)((function(){var e=JSON.parse(localStorage.getItem("react-movie-app-favourites"));e&&v(e)}),[]);return Object(j.jsx)(S.a,{children:Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{class:"navbar navbar-expand-lg navbar-dark bg-dark",children:[Object(j.jsx)("a",{class:"navbar-brand",href:"#",children:"Film App"}),Object(j.jsxs)("ul",{class:"navbar-nav mr-auto",children:[Object(j.jsx)("li",{class:"nav-item active",children:Object(j.jsxs)("a",{class:"nav-link",href:"/Proyecto",children:["Home ",Object(j.jsx)("span",{class:"sr-only",children:"(current)"})]})}),Object(j.jsx)("li",{class:"nav-item",children:Object(j.jsx)("a",{class:"nav-link",href:"/Proyecto/Favoritos",children:"Favoritos"})})]}),Object(j.jsx)("form",{class:"form-inline my-2 my-lg-0",children:Object(j.jsx)(d,{setCategories:a})})]}),Object(j.jsxs)(F.c,{children:[Object(j.jsx)(F.a,{path:"/Proyecto",element:Object(j.jsxs)("div",{children:[Object(j.jsx)("hr",{}),0==c.length?Object(j.jsx)("div",{class:"alert alert-secondary",role:"alert",children:"Ingrese el nombre de la Pelicula que desea :D"}):Object(j.jsx)("ol",{children:c.map((function(e){return Object(j.jsx)(y,{category:e,addFavouriteMovie:u,Heart:"\ud83e\udd0d"},e)}))})]})}),Object(j.jsx)(F.a,{path:"/Proyecto/Favoritos/",element:Object(j.jsx)(x,{addFavouriteMovie:u})}),Object(j.jsx)(F.a,{path:"/Proyecto/FilmInfo/:id",element:Object(j.jsx)(I,{})})]})]})})};n.a.render(Object(j.jsx)(k,{}),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.f2c24b33.chunk.js.map